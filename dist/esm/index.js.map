{"version":3,"file":"index.js","sources":["../../src/layout/AbstractItem.ts","../../src/layout/AbstractInputItem.ts","../../src/layout/HSlider.ts","../../src/layout/VSlider.ts","../../src/layout/Nentry.ts","../../src/layout/Button.ts","../../src/layout/Checkbox.ts","../../src/layout/Knob.ts","../../src/layout/Menu.ts","../../src/layout/Radio.ts","../../src/layout/AbstractOutputItem.ts","../../src/layout/Led.ts","../../src/layout/Numerical.ts","../../src/layout/HBargraph.ts","../../src/layout/VBargraph.ts","../../src/layout/AbstractGroup.ts","../../src/layout/HGroup.ts","../../src/layout/VGroup.ts","../../src/layout/TGroup.ts","../../src/layout/Layout.ts","../../node_modules/events/events.js","../../src/TypedEventEmitter.ts","../../src/components/AbstractComponent.ts","../../src/components/utils.ts","../../src/components/AbstractItem.ts","../../src/components/VSlider.ts","../../src/components/HSlider.ts","../../src/components/Nentry.ts","../../src/components/Button.ts","../../src/components/Checkbox.ts","../../src/components/Knob.ts","../../src/components/Menu.ts","../../src/components/Radio.ts","../../src/components/Led.ts","../../src/components/Numerical.ts","../../src/components/VBargraph.ts","../../src/components/HBargraph.ts","../../src/components/Group.ts","../../src/FaustUI.ts","../../src/instantiate.ts"],"sourcesContent":["import { TFaustUIInputType, TFaustUIItem, TFaustUIMeta, TFaustUIOutputType, TLayoutProp } from \"../types\";\nimport { IItem } from \"./IItem\";\n\nexport abstract class AbstractItem implements IItem {\n    type: TFaustUIInputType | TFaustUIOutputType;\n    label: string;\n    address: string;\n    index: number;\n    init: number;\n    min: number;\n    max: number;\n    meta?: TFaustUIMeta[];\n    layout: TLayoutProp;\n    constructor(item: TFaustUIItem) {\n        Object.assign(this, item);\n        this.min = isFinite(+this.min) ? +this.min : 0;\n        this.max = isFinite(+this.max) ? +this.max : 1;\n    }\n\n    adjust(): this {\n        return this;\n    }\n\n    expand(dX: number, dY: number): this {\n        return this;\n    }\n    offset(): this {\n        return this;\n    }\n}\n","import { TFaustUIInputItem } from \"../types\";\nimport { AbstractItem } from \"./AbstractItem\";\n\nexport abstract class AbstractInputItem extends AbstractItem {\n    init: number;\n    step: number;\n    constructor(item: TFaustUIInputItem) {\n        super(item);\n        this.init = +item.init || 0;\n        this.step = +item.step || 1;\n    }\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class HSlider extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"hslider\",\n        width: 5,\n        height: 1,\n        sizing: \"horizontal\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class VSlider extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"vslider\",\n        width: 1,\n        height: 5,\n        sizing: \"vertical\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Nentry extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"nentry\",\n        width: 1,\n        height: 1,\n        sizing: \"none\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Button extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"button\",\n        width: 2,\n        height: 1,\n        sizing: \"horizontal\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Checkbox extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"checkbox\",\n        width: 2,\n        height: 1,\n        sizing: \"horizontal\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Knob extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"knob\",\n        width: 1,\n        height: 1.75,\n        sizing: \"none\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Menu extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"menu\",\n        width: 2,\n        height: 1,\n        sizing: \"horizontal\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractInputItem } from \"./AbstractInputItem\";\n\nexport class Radio extends AbstractInputItem {\n    layout: TLayoutProp = {\n        type: \"radio\",\n        width: 2,\n        height: 2, // TODO: vradio and hradio\n        sizing: \"both\"\n    };\n}\n","import { AbstractItem } from \"./AbstractItem\";\n\nexport abstract class AbstractOutputItem extends AbstractItem {\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractOutputItem } from \"./AbstractOutputItem\";\n\nexport class Led extends AbstractOutputItem {\n    layout: TLayoutProp = {\n        type: \"led\",\n        width: 1,\n        height: 1,\n        sizing: \"none\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractOutputItem } from \"./AbstractOutputItem\";\n\nexport class Numerical extends AbstractOutputItem {\n    layout: TLayoutProp = {\n        type: \"numerical\",\n        width: 1,\n        height: 1,\n        sizing: \"none\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractOutputItem } from \"./AbstractOutputItem\";\n\nexport class HBargraph extends AbstractOutputItem {\n    layout: TLayoutProp = {\n        type: \"hbargraph\",\n        width: 5,\n        height: 1,\n        sizing: \"horizontal\"\n    };\n}\n","import { TLayoutProp } from \"../types\";\nimport { AbstractOutputItem } from \"./AbstractOutputItem\";\n\nexport class VBargraph extends AbstractOutputItem {\n    layout: TLayoutProp = {\n        type: \"vbargraph\",\n        width: 1,\n        height: 5,\n        sizing: \"vertical\"\n    };\n}\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { IItem } from \"./IItem\";\nimport { AbstractItem } from \"./AbstractItem\";\nimport { TFaustUIGroupType, TLayoutProp } from \"../types\";\n\nexport abstract class AbstractGroup implements IItem {\n    static padding = 0.2;\n    static labelHeight = 0.25;\n    static spaceBetween = 0.1;\n    isRoot: boolean;\n    type: TFaustUIGroupType;\n    label: string;\n    items: (AbstractGroup | AbstractItem)[];\n    layout: TLayoutProp;\n\n    constructor(group: { type: TFaustUIGroupType; label: string; items: (AbstractGroup | AbstractItem)[] }, isRoot?: boolean) {\n        this.isRoot = !!isRoot;\n        Object.assign(this, group);\n        const { hasHSizingDesc, hasVSizingDesc } = this;\n        const sizing = hasHSizingDesc && hasVSizingDesc ? \"both\" : hasHSizingDesc ? \"horizontal\" : hasVSizingDesc ? \"vertical\" : \"none\";\n        this.layout = {\n            type: group.type,\n            width: AbstractGroup.padding * 2,\n            height: AbstractGroup.padding * 2 + AbstractGroup.labelHeight,\n            sizing\n        };\n    }\n    adjust() {\n        return this;\n    }\n    expand(dX: number, dY: number) {\n        return this;\n    }\n    offset() {\n        return this;\n    }\n\n    /**\n     * find recursively if the group has horizontal-sizable item\n     *\n     * @readonly\n     * @type {boolean}\n     * @memberof AbstractGroup\n     */\n    get hasHSizingDesc(): boolean {\n        return !!this.items.find((item) => {\n            if (item instanceof AbstractGroup) return item.hasHSizingDesc;\n            return item.layout.sizing === \"horizontal\" || item.layout.sizing === \"both\";\n        });\n    }\n    /**\n     * find recursively if the group has vertical-sizable item\n     *\n     * @readonly\n     * @type {boolean}\n     * @memberof AbstractGroup\n     */\n    get hasVSizingDesc(): boolean {\n        return !!this.items.find((item) => {\n            if (item instanceof AbstractGroup) return item.hasVSizingDesc;\n            return item.layout.sizing === \"vertical\" || item.layout.sizing === \"both\";\n        });\n    }\n}\n","import { AbstractGroup } from \"./AbstractGroup\";\n\nexport class HGroup extends AbstractGroup {\n    adjust() {\n        this.items.forEach((item) => {\n            item.adjust();\n            this.layout.width += item.layout.width;\n            this.layout.height = Math.max(this.layout.height, item.layout.height + 2 * AbstractGroup.padding + AbstractGroup.labelHeight);\n        });\n        this.layout.width += AbstractGroup.spaceBetween * (this.items.length - 1);\n        if (this.layout.width < 1) this.layout.width += 1;\n        return this;\n    }\n    expand(dX: number) {\n        let hExpandItems = 0;\n        this.items.forEach((item) => { // Count items that need to expand horizontally\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"horizontal\") hExpandItems++;\n        });\n        this.items.forEach((item) => {\n            let dX$ = 0;\n            let dY$ = 0; // Space available to expand for current item\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"horizontal\") {\n                dX$ = hExpandItems ? dX / hExpandItems : 0;\n                item.layout.width += dX$;\n            }\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"vertical\") {\n                dY$ = this.layout.height - 2 * AbstractGroup.padding - AbstractGroup.labelHeight - item.layout.height;\n                item.layout.height += dY$;\n            }\n            item.expand(dX$, dY$);\n        });\n        return this;\n    }\n    offset() {\n        const { labelHeight, padding, spaceBetween } = AbstractGroup;\n        let $left = padding;\n        const $top = padding + labelHeight;\n        const { height } = this.layout;\n        this.items.forEach((item) => {\n            item.layout.offsetLeft = $left;\n            item.layout.offsetTop = $top;\n            // center the item\n            item.layout.offsetTop += (height - labelHeight - item.layout.height) / 2 - padding;\n            item.layout.left = (this.layout.left || 0) + item.layout.offsetLeft;\n            item.layout.top = (this.layout.top || 0) + item.layout.offsetTop;\n            item.offset();\n            $left += item.layout.width + spaceBetween;\n        });\n        return this;\n    }\n}\n","import { AbstractGroup } from \"./AbstractGroup\";\n\nexport class VGroup extends AbstractGroup {\n    adjust() {\n        this.items.forEach((item) => {\n            item.adjust();\n            this.layout.width = Math.max(this.layout.width, item.layout.width + 2 * AbstractGroup.padding);\n            this.layout.height += item.layout.height;\n        });\n        this.layout.height += AbstractGroup.spaceBetween * (this.items.length - 1);\n        if (this.layout.width < 1) this.layout.width += 1;\n        return this;\n    }\n    expand(dX: number, dY: number) {\n        let vExpandItems = 0;\n        this.items.forEach((item) => {\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"vertical\") vExpandItems++;\n        });\n        this.items.forEach((item) => {\n            let dX$ = 0;\n            let dY$ = 0; // Space available to expand for current item\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"horizontal\") {\n                dX$ = this.layout.width - 2 * AbstractGroup.padding - item.layout.width;\n                item.layout.width += dX$;\n            }\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"vertical\") {\n                dY$ = vExpandItems ? dY / vExpandItems : 0;\n                item.layout.height += dY$;\n            }\n            item.expand(dX$, dY$);\n        });\n        return this;\n    }\n    offset() {\n        const { labelHeight, padding, spaceBetween } = AbstractGroup;\n        const $left = padding;\n        let $top = padding + labelHeight;\n        const { width } = this.layout;\n        this.items.forEach((item) => {\n            item.layout.offsetLeft = $left;\n            item.layout.offsetTop = $top;\n            // center the item\n            item.layout.offsetLeft += (width - item.layout.width) / 2 - padding;\n            item.layout.left = (this.layout.left || 0) + item.layout.offsetLeft;\n            item.layout.top = (this.layout.top || 0) + item.layout.offsetTop;\n            item.offset();\n            $top += item.layout.height + spaceBetween;\n        });\n        return this;\n    }\n}\n","import { AbstractGroup } from \"./AbstractGroup\";\n\nexport class TGroup extends AbstractGroup {\n    static tabLayout = {\n        width: 2,\n        height: 1\n    };\n    adjust() {\n        this.items.forEach((item) => {\n            item.adjust();\n            this.layout.width = Math.max(this.layout.width, item.layout.width + 2 * AbstractGroup.padding);\n            this.layout.height = Math.max(this.layout.height, item.layout.height + 2 * AbstractGroup.padding + TGroup.labelHeight);\n        });\n        const tabsCount = this.items.length;\n        this.layout.width = Math.max(this.layout.width, tabsCount * TGroup.tabLayout.width + 2 * TGroup.padding);\n        this.layout.height += TGroup.tabLayout.height;\n        if (this.layout.width < 1) this.layout.width += 1;\n        return this;\n    }\n    expand() {\n        const tabsCount = this.items.length;\n        this.items.forEach((item) => {\n            let dY$ = 0; // Space available to expand for current item\n            let dX$ = 0;\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"horizontal\") dX$ = this.layout.width - 2 * AbstractGroup.padding - item.layout.width;\n            if (item.layout.sizing === \"both\" || item.layout.sizing === \"vertical\") dY$ = this.layout.height - 2 * AbstractGroup.padding - AbstractGroup.labelHeight - (tabsCount ? TGroup.tabLayout.height : 0) - item.layout.height;\n            item.expand(dX$, dY$);\n        });\n        return this;\n    }\n    offset() {\n        const { labelHeight, padding } = AbstractGroup;\n        const $left = padding;\n        const $top = padding + labelHeight + TGroup.tabLayout.height;\n        this.items.forEach((item) => {\n            item.layout.offsetLeft = $left;\n            item.layout.offsetTop = $top;\n            item.layout.left = (this.layout.left || 0) + item.layout.offsetLeft;\n            item.layout.top = (this.layout.top || 0) + item.layout.offsetTop;\n            item.offset();\n        });\n        return this;\n    }\n}\n","import { HSlider } from \"./HSlider\";\nimport { VSlider } from \"./VSlider\";\nimport { Nentry } from \"./Nentry\";\nimport { Button } from \"./Button\";\nimport { Checkbox } from \"./Checkbox\";\nimport { Knob } from \"./Knob\";\nimport { Menu } from \"./Menu\";\nimport { Radio } from \"./Radio\";\nimport { Led } from \"./Led\";\nimport { Numerical } from \"./Numerical\";\nimport { HBargraph } from \"./HBargraph\";\nimport { VBargraph } from \"./VBargraph\";\nimport { HGroup } from \"./HGroup\";\nimport { VGroup } from \"./VGroup\";\nimport { TGroup } from \"./TGroup\";\nimport { AbstractItem } from \"./AbstractItem\";\nimport { AbstractGroup } from \"./AbstractGroup\";\nimport { TFaustUIItem, TLayoutType, LayoutTypeMap, TFaustUI } from \"../types\";\n\nexport class Layout {\n    /**\n     * Get the rendering type of an item by parsing its metadata\n     *\n     * @static\n     * @param {TFaustUIItem} item\n     * @returns {TLayoutType}\n     * @memberof Layout\n     */\n    static predictType(item: TFaustUIItem): TLayoutType {\n        if (item.type === \"vgroup\"\n                || item.type === \"hgroup\"\n                || item.type === \"tgroup\"\n                || item.type === \"button\"\n                || item.type === \"checkbox\"\n        ) return item.type;\n        if (item.type === \"hbargraph\" || item.type === \"vbargraph\") {\n            if (item.meta && item.meta.find(meta => meta.style && meta.style.startsWith(\"led\"))) return \"led\";\n            if (item.meta && item.meta.find(meta => meta.style && meta.style.startsWith(\"numerical\"))) return \"numerical\";\n            return item.type;\n        }\n        if (item.type === \"hslider\" || item.type === \"nentry\" || item.type === \"vslider\") {\n            if (item.meta && item.meta.find(meta => meta.style && meta.style.startsWith(\"knob\"))) return \"knob\";\n            if (item.meta && item.meta.find(meta => meta.style && meta.style.startsWith(\"menu\"))) return \"menu\";\n            if (item.meta && item.meta.find(meta => meta.style && meta.style.startsWith(\"radio\"))) return \"radio\";\n        }\n        return item.type;\n    }\n    /**\n     * Get the Layout class constructor of an item\n     */\n    static getItem(item: TFaustUIItem): AbstractItem | AbstractGroup {\n        const ctor: { [key in keyof LayoutTypeMap]: typeof AbstractItem | typeof AbstractGroup } = {\n            hslider: HSlider,\n            vslider: VSlider,\n            nentry: Nentry,\n            button: Button,\n            checkbox: Checkbox,\n            knob: Knob,\n            menu: Menu,\n            radio: Radio,\n            led: Led,\n            numerical: Numerical,\n            hbargraph: HBargraph,\n            vbargraph: VBargraph,\n            hgroup: HGroup,\n            vgroup: VGroup,\n            tgroup: TGroup\n        };\n        const layoutType = this.predictType(item);\n        return new ctor[layoutType](item as any);\n    }\n    static getItems(items: TFaustUIItem[]) {\n        return items.map((item) => {\n            if (\"items\" in item) item.items = this.getItems(item.items);\n            return this.getItem(item);\n        });\n    }\n    static calc(ui: TFaustUI) {\n        const rootGroup = new VGroup({ items: this.getItems(ui), type: \"vgroup\", label: \"\" }, true);\n        rootGroup.adjust();\n        rootGroup.expand(0, 0);\n        rootGroup.offset();\n        return rootGroup;\n    }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","import { EventEmitter } from \"events\";\n\nexport class TypedEventEmitter<M> {\n    private _listeners: { [eventName: string]: ((...e: any[]) => void | Promise<void>)[] } = {};\n    get listeners() {\n        return this._listeners;\n    }\n    private getListeners<K extends Extract<keyof M, string>>(eventName: K) {\n        if (!(eventName in this._listeners)) this._listeners[eventName] = [];\n        return this._listeners[eventName];\n    }\n    on<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        if (this.getListeners(eventName).indexOf(listener) === -1) this.getListeners(eventName).push(listener);\n    }\n    off<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        const i = this.getListeners(eventName).indexOf(listener);\n        if (i !== -1) this.getListeners(eventName).splice(i, 1);\n    }\n    async emit<K extends Extract<keyof M, string>>(eventName: K, eventData?: M[K]) {\n        const listeners = this.getListeners(eventName);\n        if (!listeners) return [];\n        return Promise.all(listeners.map(f => f(eventData)));\n    }\n    async emitSerial<K extends Extract<keyof M, string>>(eventName: K, eventData?: M[K]) {\n        const listeners = this.getListeners(eventName);\n        if (!listeners) return;\n        /* eslint-disable no-await-in-loop */\n        for (const listener of listeners) {\n            await listener(eventData);\n        }\n    }\n    emitSync<K extends Extract<keyof M, string>>(eventName: K, eventData?: M[K]) {\n        const listeners = this.getListeners(eventName);\n        if (!listeners) return;\n        listeners.map(f => f(eventData));\n    }\n    removeAllListeners(eventName?: Extract<keyof M, string>) {\n        if (eventName) {\n            this._listeners[eventName] = [];\n        } else {\n            this._listeners = {};\n        }\n    }\n    listenerCount(eventName: Extract<keyof M, string>) {\n        if (!(eventName in this._listeners)) return 0;\n        return this._listeners[eventName].length;\n    }\n}\n\nexport class TypedEventEmitterNodeJS<M> {\n    private readonly _emitter = new EventEmitter();\n    addListener<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.addListener(eventName, listener);\n    }\n    on<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.on(eventName, listener);\n    }\n    once<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.once(eventName, listener);\n    }\n    prependListener<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.prependListener(eventName, listener);\n    }\n    prependOnceListener<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.prependOnceListener(eventName, listener);\n    }\n    removeListener<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.removeListener(eventName, listener);\n    }\n    off<K extends Extract<keyof M, string>>(eventName: K, listener: (e: M[K]) => void) {\n        return this._emitter.off(eventName, listener);\n    }\n    removeAllListeners(event?: Extract<keyof M, string>) {\n        return this._emitter.removeAllListeners(event);\n    }\n    setMaxListeners(n: number) {\n        return this._emitter.setMaxListeners(n);\n    }\n    getMaxListeners() {\n        return this._emitter.getMaxListeners();\n    }\n    listeners(eventName: Extract<keyof M, string>) {\n        return this._emitter.listeners(eventName);\n    }\n    rawListeners(eventName: Extract<keyof M, string>) {\n        return this._emitter.rawListeners(eventName);\n    }\n    emit<K extends Extract<keyof M, string>>(eventName: K, e?: M[K]) {\n        return this._emitter.emit(eventName, e);\n    }\n    eventNames() {\n        return this._emitter.eventNames();\n    }\n    listenerCount(eventName: Extract<keyof M, string>) {\n        return this._emitter.listenerCount(eventName);\n    }\n}\n","import { TypedEventEmitter } from \"../TypedEventEmitter\";\n\nexport abstract class AbstractComponent<T extends Record<string, any> = Record<string, any>> extends TypedEventEmitter<T> {\n    /**\n     * The default state of the component.\n     */\n    static defaultProps: Record<string, any> = {};\n    get defaultProps() {\n        return (this.constructor as typeof AbstractComponent).defaultProps as T;\n    }\n    /**\n     * Here stores corrent state of component\n     * change the state with `setState` method to fire state events\n     * then UI parts will get notified and rerender\n     */\n    state: T;\n    /**\n     * Frame count in order to reduce frame rate\n     */\n    private $frame = 0;\n    /**\n     * Frame reducing factor, 1 = render at every browser rendering tick, 2 will skip one every two ticks.\n     */\n    frameReduce = 1;\n    /**\n     * Here stores current `requestAnimationFrame` reference\n     * if we have a new state to render, we cancel the old one\n     */\n    private $raf: number;\n    /**\n     * `requestAnimationFrame` callback\n     */\n    private raf = () => {\n        this.$frame++;\n        if (this.$frame % this.frameReduce !== 0) {\n            this.$raf = window.requestAnimationFrame(this.raf);\n            return;\n        }\n        this.$raf = undefined;\n        this.tasks.forEach(f => f());\n        this.tasks = [];\n    };\n    /**\n     * tasks to execute in next redering tick\n     */\n    private tasks: (() => any)[] = [];\n    /**\n     * Initiate default state with incoming state.\n     */\n    constructor(props?: T) {\n        super();\n        this.state = { ...this.defaultProps, ...props };\n        return this;\n    }\n    /**\n     * set internal state and fire events for UI parts subscribed\n     */\n    setState(newState: Partial<T>) {\n        let shouldUpdate = false;\n        for (const stateKey in newState) {\n            const stateValue = newState[stateKey];\n            if (stateKey in this.state && this.state[stateKey] !== stateValue) {\n                this.state[stateKey] = stateValue;\n                shouldUpdate = true;\n            } else return;\n            if (shouldUpdate) this.emit(stateKey, this.state[stateKey]);\n        }\n    }\n    /**\n     * Use this method to request a new rendering\n     * schedule what you need to do in next render tick in `raf` callback\n     */\n    schedule(func: () => any) {\n        if (this.tasks.indexOf(func) === -1) this.tasks.push(func);\n        if (this.$raf) return;\n        this.$raf = window.requestAnimationFrame(this.raf);\n    }\n}\n","export const toMIDI = (f: number) => [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"][(f % 12 + 12) % 12] + Math.round(f / 12 - 2);\nexport const toRad = (degrees: number) => degrees * Math.PI / 180;\nexport const atodb = (a: number) => 20 * Math.log10(a);\nexport const dbtoa = (db: number) => 10 ** (db / 20);\nexport const normLog = (x: number) => (Math.log10(x * 99 + 1) / 2) || 0;\nexport const normExp = (x: number) => (10 ** (2 * x) - 1) / 99;\nexport const roundedRect = (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, radius: number | number[]) => {\n    const radii = [0, 0, 0, 0];\n    if (typeof radius === \"number\") radii.fill(radius);\n    else radius.forEach((v, i) => radii[i] = v);\n    ctx.beginPath();\n    ctx.moveTo(x + radii[0], y);\n    ctx.lineTo(x + width - radii[1], y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radii[1]);\n    ctx.lineTo(x + width, y + height - radii[2]);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radii[2], y + height);\n    ctx.lineTo(x + radii[3], y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radii[3]);\n    ctx.lineTo(x, y + radii[0]);\n    ctx.quadraticCurveTo(x, y, x + radii[0], y);\n    ctx.closePath();\n    ctx.stroke();\n};\nexport const fillRoundedRect = (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, radius: number | number[]) => {\n    const radii = [0, 0, 0, 0];\n    if (typeof radius === \"number\") radii.fill(radius);\n    else radius.forEach((v, i) => radii[i] = v);\n    ctx.beginPath();\n    ctx.moveTo(x + radii[0], y);\n    ctx.lineTo(x + width - radii[1], y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radii[1]);\n    ctx.lineTo(x + width, y + height - radii[2]);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radii[2], y + height);\n    ctx.lineTo(x + radii[3], y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radii[3]);\n    ctx.lineTo(x, y + radii[0]);\n    ctx.quadraticCurveTo(x, y, x + radii[0], y);\n    ctx.closePath();\n    ctx.fill();\n};\n","/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { FaustUIItemStyle, FaustUIItemProps, PointerDownEvent, PointerDragEvent, PointerUpEvent } from \"./types\";\nimport \"./Base.scss\";\nimport { AbstractComponent } from \"./AbstractComponent\";\nimport { normExp, normLog } from \"./utils\";\n\n/**\n * Abstract class that describes a FaustUI Component\n * this is an event emitter that emits every state change to inform UI renderer parts\n * Each UI parts could subscribe to a specific state such as `value`, `min`, `max` or `style`\n * when the event subscribed is fired, this part of ui updated using its own handler without updating the rest of UI parts\n * the types of events is restricted to the same as keys of `state` object:\n * `state` object is a `FaustUIItemProps` with a `style` object that contains `T` defined by child class.\n * Child class can override life cycle methods\n * `componentWillMount` prepare data before DOM get loads to page\n * `mount` get DOMs append to page\n * `componentDidMount` Now draw canvas etc.\n */\nexport abstract class AbstractItem<T extends FaustUIItemStyle> extends AbstractComponent<FaustUIItemProps<T>> {\n    /**\n     * The default state of the component.\n     */\n    static defaultProps: FaustUIItemProps<FaustUIItemStyle> = {\n        value: 0,\n        active: true,\n        focus: false,\n        label: \"\",\n        address: \"\",\n        min: 0,\n        max: 1,\n        enums: {},\n        type: \"float\",\n        unit: \"\",\n        scale: \"linear\",\n        step: 0.01,\n        style: { width: 45, height: 15, left: 0, top: 0, labelcolor: \"rgba(226, 222, 255, 0.5)\" }\n    };\n    /**\n     * DOM Div container of the component\n     */\n    container: HTMLDivElement;\n    /**\n     * DOM Div container of label canvas\n     */\n    label: HTMLDivElement;\n    /**\n     * Use canvas as label to fit full text in.\n     */\n    labelCanvas: HTMLCanvasElement;\n    labelCtx: CanvasRenderingContext2D;\n    /**\n     * Override this to get css work\n     */\n    className: string;\n    frameReduce = 3;\n    /**\n     * Default DOM event listeners, unify mousedown and touchstart events\n     * For mouse or touch events, please use `handlePointerDown` `handlePointerUp` `handlePointerDrag` callbacks\n     */\n    handleKeyDown = (e: KeyboardEvent) => {};\n    handleKeyUp = (e: KeyboardEvent) => {};\n    handleTouchStart = (e: TouchEvent) => {\n        e.preventDefault();\n        const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();\n        let prevX = e.touches[0].pageX;\n        let prevY = e.touches[0].pageY;\n        const fromX = prevX - rect.left;\n        const fromY = prevY - rect.top;\n        const prevValue = this.state.value;\n        this.handlePointerDown({ x: fromX, y: fromY, originalEvent: e });\n        const handleTouchMove = (e: TouchEvent) => {\n            e.preventDefault();\n            const pageX = e.changedTouches[0].pageX;\n            const pageY = e.changedTouches[0].pageY;\n            const movementX = pageX - prevX;\n            const movementY = pageY - prevY;\n            prevX = pageX;\n            prevY = pageY;\n            const x = pageX - rect.left;\n            const y = pageY - rect.top;\n            this.handlePointerDrag({ prevValue, x, y, fromX, fromY, movementX, movementY, originalEvent: e });\n        };\n        const handleTouchEnd = (e: TouchEvent) => {\n            e.preventDefault();\n            const x = e.changedTouches[0].pageX - rect.left;\n            const y = e.changedTouches[0].pageY - rect.top;\n            this.handlePointerUp({ x, y, originalEvent: e });\n            document.removeEventListener(\"touchmove\", handleTouchMove);\n            document.removeEventListener(\"touchend\", handleTouchEnd);\n        };\n        document.addEventListener(\"touchmove\", handleTouchMove, { passive: false });\n        document.addEventListener(\"touchend\", handleTouchEnd, { passive: false });\n    };\n    handleWheel = (e: WheelEvent) => {};\n    handleClick = (e: MouseEvent) => {};\n    handleMouseDown = (e: MouseEvent) => {\n        e.preventDefault();\n        (e.currentTarget as HTMLElement).focus();\n        const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();\n        const fromX = e.pageX - rect.left;\n        const fromY = e.pageY - rect.top;\n        const prevValue = this.state.value;\n        this.handlePointerDown({ x: fromX, y: fromY, originalEvent: e });\n        const handleMouseMove = (e: MouseEvent) => {\n            e.preventDefault();\n            const x = e.pageX - rect.left;\n            const y = e.pageY - rect.top;\n            this.handlePointerDrag({ prevValue, x, y, fromX, fromY, movementX: e.movementX, movementY: e.movementY, originalEvent: e });\n        };\n        const handleMouseUp = (e: MouseEvent) => {\n            e.preventDefault();\n            const x = e.pageX - rect.left;\n            const y = e.pageY - rect.top;\n            this.handlePointerUp({ x, y, originalEvent: e });\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n    };\n    handleMouseOver = (e: MouseEvent) => {};\n    handleMouseOut = (e: MouseEvent) => {};\n    handleContextMenu = (e: MouseEvent) => {};\n    handlePointerDown = (e: PointerDownEvent) => {};\n    handlePointerDrag = (e: PointerDragEvent) => {};\n    handlePointerUp = (e: PointerUpEvent) => {};\n    handleFocusIn = (e: FocusEvent) => this.setState({ focus: true });\n    handleFocusOut = (e: FocusEvent) => this.setState({ focus: false });\n\n    /**\n     * Initiate default state with incoming state.\n     */\n    constructor(props?: FaustUIItemProps<T>) {\n        super(props);\n        this.state.style = { ...this.defaultProps.style, ...props.style };\n        if (this.state.emitter) this.state.emitter.register(this.state.address, this);\n        return this;\n    }\n    /**\n     * Get a nearest valid number\n     */\n    toValidNumber(value: number): number {\n        const { min, max, step } = this.state;\n        if (typeof min !== \"number\" || typeof max !== \"number\") return value;\n        const v = Math.min(max, Math.max(min, value));\n        if (!step) return v;\n        return min + Math.floor((v - min) / step) * step;\n    }\n    /**\n     * Use this method if you want the emitter to send value to DSP\n     */\n    setValue(valueIn: number): boolean {\n        const value = this.toValidNumber(valueIn);\n        const changed = this.setState({ value });\n        if (changed) this.change(value);\n        return changed;\n    }\n    /**\n     * Send value to DSP\n     */\n    change(valueIn?: number) {\n        if (this.state.emitter) this.state.emitter.paramChangeByUI(this.state.address, typeof valueIn === \"number\" ? valueIn : this.state.value);\n    }\n    /**\n     * set internal state and fire events for UI parts subscribed\n     * This will not send anything to DSP\n     */\n    setState(newState: { [key in keyof FaustUIItemProps<T>]?: FaustUIItemProps<T>[key] }): boolean {\n        let shouldUpdate = false;\n        for (const key in newState) {\n            const stateKey = key as keyof FaustUIItemProps<T>;\n            const stateValue = newState[stateKey];\n            if (stateKey === \"style\") {\n                for (const styleKey in newState.style) {\n                    if (styleKey in this.state.style && this.state.style[styleKey] !== newState.style[styleKey]) {\n                        this.state.style[styleKey] = newState.style[styleKey];\n                        shouldUpdate = true;\n                    }\n                }\n            } else if (stateKey in this.state && this.state[stateKey] !== stateValue) {\n                (this.state as any)[stateKey] = stateValue;\n                shouldUpdate = true;\n            } else return false;\n            if (shouldUpdate) this.emit(stateKey, this.state[stateKey]);\n        }\n        return shouldUpdate;\n    }\n    /**\n     * Create container with class name\n     * override it with `super.componentWillMount();`\n     */\n    componentWillMount(): this {\n        this.container = document.createElement(\"div\");\n        this.container.className = [\"faust-ui-component\", \"faust-ui-component-\" + this.className].join(\" \");\n        this.container.tabIndex = 1;\n        this.container.id = this.state.address;\n        if (this.state.tooltip) this.container.title = this.state.tooltip;\n        this.label = document.createElement(\"div\");\n        this.label.className = \"faust-ui-component-label\";\n        this.labelCanvas = document.createElement(\"canvas\");\n        this.labelCtx = this.labelCanvas.getContext(\"2d\");\n        return this;\n    }\n    /**\n     * Here append all child DOM to container\n     */\n    mount(): this {\n        this.label.appendChild(this.labelCanvas);\n        return this;\n    }\n    paintLabel(align?: CanvasTextAlign): this {\n        const label = this.state.label;\n        const color = this.state.style.labelcolor;\n        const ctx = this.labelCtx;\n        const canvas = this.labelCanvas;\n        let { width, height } = this.label.getBoundingClientRect();\n        if (!width || !height) return this;\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.height = height;\n        canvas.width = width;\n        ctx.clearRect(0, 0, width, height);\n        ctx.fillStyle = color;\n        ctx.textBaseline = \"middle\";\n        ctx.textAlign = align || \"center\";\n        ctx.font = `bold ${height * 0.9}px -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`;\n        ctx.fillText(label, align === \"left\" ? 0 : align === \"right\" ? width : width / 2, height / 2, width);\n        return this;\n    }\n    /**\n     * will call this method when mounted\n     */\n    componentDidMount(): this {\n        const handleResize = () => {\n            const { grid, left, top, width, height } = this.state.style;\n            this.container.style.width = `${width * grid}px`;\n            this.container.style.height = `${height * grid}px`;\n            this.container.style.left = `${left * grid}px`;\n            this.container.style.top = `${top * grid}px`;\n            this.label.style.height = `${grid * 0.25}px`;\n            this.paintLabel();\n        };\n        this.on(\"style\", () => this.schedule(handleResize));\n        handleResize();\n        return this;\n    }\n    /**\n     * Count steps in range min-max with step\n     */\n    get stepsCount() {\n        const { type, max, min, step, enums } = this.state;\n        const maxSteps = type === \"enum\" ? enums.length : type === \"int\" ? max - min : (max - min) / step;\n        if (step) {\n            if (type === \"enum\") return enums.length;\n            if (type === \"int\") return Math.min(Math.floor((max - min) / (Math.round(step) || 1)), maxSteps);\n            return Math.floor((max - min) / step);\n        }\n        return maxSteps;\n    }\n    /**\n     * Normalized value between 0 - 1.\n     */\n    get distance() {\n        const { type, max, min, value, enums, scale } = this.state;\n        return AbstractItem.getDistance({ type, max, min, value, enums, scale });\n    }\n    static getDistance(state: { value: number; min: number; max: number; enums?: { [key: string]: number }; type: \"enum\" | \"int\" | \"float\"; scale: \"linear\" | \"exp\" | \"log\" }) {\n        const { type, max, min, value, enums, scale } = state;\n        const normalized = type === \"enum\" ? value / (enums.length - 1) : (value - min) / (max - min);\n        return scale === \"exp\" ? normLog(normalized) : scale === \"log\" ? normExp(normalized) : normalized;\n    }\n    /**\n     * Mousemove pixels for each step\n     */\n    get stepRange() {\n        const full = 100;\n        const stepsCount = this.stepsCount;\n        return full / stepsCount;\n    }\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps, PointerDownEvent, PointerDragEvent } from \"./types\";\nimport \"./VSlider.scss\";\nimport { FaustUINentryStyle } from \"./Nentry\";\nimport { fillRoundedRect, normLog, normExp } from \"./utils\";\n\ninterface FaustUISliderStyle extends FaustUINentryStyle {\n    sliderwidth?: number;\n    sliderbgcolor?: string;\n    sliderbgoncolor?: string;\n    slidercolor?: string;\n}\nexport class VSlider extends AbstractItem<FaustUISliderStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUISliderStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(18, 18, 18, 0)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\",\n                sliderwidth: undefined,\n                sliderbgcolor: \"rgba(18, 18, 18, 1)\",\n                sliderbgoncolor: \"rgba(255, 165, 0, 1)\",\n                slidercolor: \"rgba(200, 200, 200, 0.75)\"\n            }\n        };\n    }\n    className = \"vslider\";\n\n    canvas: HTMLCanvasElement;\n    inputNumber: HTMLInputElement;\n    input: HTMLInputElement;\n    flexDiv: HTMLDivElement;\n    canvasDiv: HTMLDivElement;\n    ctx: CanvasRenderingContext2D;\n    interactionRect: number[] = [0, 0, 0, 0];\n    componentWillMount() {\n        super.componentWillMount();\n        this.flexDiv = document.createElement(\"div\");\n        this.flexDiv.className = `faust-ui-component-${this.className}-flexdiv`;\n        this.canvasDiv = document.createElement(\"div\");\n        this.canvasDiv.className = `faust-ui-component-${this.className}-canvasdiv`;\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = 10;\n        this.canvas.height = 10;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.inputNumber = document.createElement(\"input\");\n        this.inputNumber.type = \"number\";\n        this.inputNumber.value = (+this.state.value.toFixed(3)).toString();\n        this.inputNumber.max = this.state.max.toString();\n        this.inputNumber.min = this.state.min.toString();\n        this.inputNumber.step = this.state.step.toString();\n        this.input = document.createElement(\"input\");\n        this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n        this.input.spellcheck = false;\n        this.setStyle();\n        return this;\n    }\n    handleChange = (e: Event) => {\n        const value = parseFloat((e.currentTarget as HTMLInputElement).value);\n        if (isFinite(value)) {\n            const changed = this.setValue(+value);\n            if (changed) return;\n        }\n        this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n    };\n    setStyle = () => {\n        const { height, width, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        const fontSize = Math.min(height * grid * 0.05, width * grid * 0.2);\n        this.input.style.fontSize = `${fontsize || fontSize}px`;\n        this.input.style.color = textcolor;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.input.addEventListener(\"change\", this.handleChange);\n        this.canvas.addEventListener(\"mousedown\", this.handleMouseDown);\n        this.canvas.addEventListener(\"touchstart\", this.handleTouchStart, { passive: false });\n        this.on(\"style\", () => {\n            this.schedule(this.setStyle);\n            this.schedule(this.paint);\n        });\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        const valueChange = () => {\n            this.inputNumber.value = (+this.state.value.toFixed(3)).toString();\n            this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n        };\n        this.on(\"value\", () => {\n            this.schedule(valueChange);\n            this.schedule(this.paint);\n        });\n        const maxChange = () => this.inputNumber.max = this.state.max.toString();\n        this.on(\"max\", () => {\n            this.schedule(maxChange);\n            this.schedule(this.paint);\n        });\n        const minChange = () => this.inputNumber.min = this.state.min.toString();\n        this.on(\"min\", () => {\n            this.schedule(minChange);\n            this.schedule(this.paint);\n        });\n        const stepChange = () => this.inputNumber.step = this.state.step.toString();\n        this.on(\"step\", () => {\n            this.schedule(stepChange);\n            this.schedule(this.paint);\n        });\n        this.schedule(this.paint);\n        return this;\n    }\n    mount() {\n        this.canvasDiv.appendChild(this.canvas);\n        this.flexDiv.appendChild(this.canvasDiv);\n        this.flexDiv.appendChild(this.input);\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.flexDiv);\n        return super.mount();\n    }\n    paint = () => {\n        const { sliderwidth, sliderbgcolor, sliderbgoncolor, slidercolor } = this.state.style;\n        const ctx = this.ctx;\n        const canvas = this.canvas;\n        const distance = this.distance;\n        let { width, height } = this.canvasDiv.getBoundingClientRect();\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.width = width;\n        canvas.height = height;\n\n        const drawHeight = height * 0.9;\n        const drawWidth = sliderwidth || Math.min(width / 3, drawHeight * 0.05);\n        const left = (width - drawWidth) * 0.5;\n        const top = height * 0.05;\n        const borderRadius = drawWidth * 0.25;\n        this.interactionRect = [0, top, width, drawHeight];\n        const grd = ctx.createLinearGradient(0, top, 0, top + drawHeight);\n        grd.addColorStop(Math.max(0, Math.min(1, 1 - distance)), sliderbgcolor);\n        grd.addColorStop(Math.max(0, Math.min(1, 1 - distance)), sliderbgoncolor);\n        ctx.fillStyle = grd;\n        fillRoundedRect(ctx, left, top, drawWidth, drawHeight, borderRadius);\n        // draw slider\n        ctx.fillStyle = slidercolor;\n        fillRoundedRect(ctx, left - drawWidth, top + drawHeight * (1 - distance) - drawWidth, drawWidth * 3, drawWidth * 2, borderRadius);\n    };\n    get stepsCount() {\n        const { type, max, min, step, enums } = this.state;\n        const maxSteps = type === \"enum\" ? enums.length : type === \"int\" ? max - min : (max - min) / step;\n        if (step) {\n            if (type === \"enum\") return enums.length;\n            if (type === \"int\") return Math.min(Math.floor((max - min) / (Math.round(step) || 0)), maxSteps);\n            return Math.floor((max - min) / step);\n        }\n        return maxSteps;\n    }\n    get stepRange() {\n        const full = this.interactionRect[this.className === \"vslider\" ? 3 : 2];\n        const stepsCount = this.stepsCount;\n        return full / stepsCount;\n    }\n    getValueFromPos(e: { x: number; y: number }) {\n        const { type, min, scale } = this.state;\n        const step = type === \"enum\" ? 1 : (this.state.step || 1);\n        const stepRange = this.stepRange;\n        const stepsCount = this.stepsCount;\n        const distance = (this.className === \"vslider\" ? this.interactionRect[3] - (e.y - this.interactionRect[1]) : e.x - this.interactionRect[0]);\n        const range = this.className === \"vslider\" ? this.interactionRect[3] : this.interactionRect[2];\n        let steps = Math.round((scale === \"exp\" ? normExp(distance / range) : scale === \"log\" ? normLog(distance / range) : distance / range) * range / stepRange);\n        steps = Math.min(stepsCount, Math.max(0, steps));\n        if (type === \"enum\") return steps;\n        if (type === \"int\") return Math.round(steps * step + min);\n        return steps * step + min;\n    }\n    handlePointerDown = (e: PointerDownEvent) => {\n        const { value } = this.state;\n        if (\n            e.x < this.interactionRect[0]\n            || e.x > this.interactionRect[0] + this.interactionRect[2]\n            || e.y < this.interactionRect[1]\n            || e.y > this.interactionRect[1] + this.interactionRect[3]\n        ) return;\n        const newValue = this.getValueFromPos(e);\n        if (newValue !== value) this.setValue(this.getValueFromPos(e));\n    };\n    handlePointerDrag = (e: PointerDragEvent) => {\n        const newValue = this.getValueFromPos(e);\n        if (newValue !== this.state.value) this.setValue(newValue);\n    };\n}\n","import \"./HSlider.scss\";\nimport { fillRoundedRect } from \"./utils\";\nimport { VSlider } from \"./VSlider\";\n\nexport class HSlider extends VSlider {\n    className = \"hslider\";\n\n    paintLabel() {\n        return super.paintLabel(\"left\");\n    }\n    setStyle = () => {\n        const { height, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.input.style.fontSize = `${fontsize || height * grid * 0.2}px`;\n        this.input.style.color = textcolor;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    paint = () => {\n        const { sliderwidth, sliderbgcolor, sliderbgoncolor, slidercolor } = this.state.style;\n        const ctx = this.ctx;\n        const canvas = this.canvas;\n        const distance = this.distance;\n        let { width, height } = this.canvasDiv.getBoundingClientRect();\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.width = width;\n        canvas.height = height;\n\n        const drawWidth = width * 0.9;\n        const drawHeight = sliderwidth || Math.min(height / 3, drawWidth * 0.05);\n        const left = width * 0.05;\n        const top = (height - drawHeight) * 0.5;\n        const borderRadius = drawHeight * 0.25;\n        this.interactionRect = [left, 0, drawWidth, height];\n        const grd = ctx.createLinearGradient(left, 0, left + drawWidth, 0);\n        grd.addColorStop(Math.max(0, Math.min(1, distance)), sliderbgoncolor);\n        grd.addColorStop(Math.max(0, Math.min(1, distance)), sliderbgcolor);\n        ctx.fillStyle = grd;\n        fillRoundedRect(ctx, left, top, drawWidth, drawHeight, borderRadius);\n        // draw slider\n        ctx.fillStyle = slidercolor;\n        fillRoundedRect(ctx, left + drawWidth * distance - drawHeight, top - drawHeight, drawHeight * 2, drawHeight * 3, borderRadius);\n    };\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemStyle, FaustUIItemProps } from \"./types\";\nimport \"./Nentry.scss\";\n\nexport interface FaustUINentryStyle extends FaustUIItemStyle {\n    fontname?: string;\n    fontsize?: number;\n    fontface?: \"regular\" | \"bold\" | \"italic\" | \"bold italic\";\n    bgcolor?: string;\n    bordercolor?: string;\n    labelcolor?: string;\n    textcolor?: string;\n}\nexport class Nentry extends AbstractItem<FaustUINentryStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUINentryStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(255, 255, 255, 0.25)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\"\n            }\n        };\n    }\n    className = \"nentry\";\n\n    input: HTMLInputElement;\n    componentWillMount() {\n        super.componentWillMount();\n        this.input = document.createElement(\"input\");\n        this.input.type = \"number\";\n        this.input.value = (+this.state.value.toFixed(3)).toString();\n        this.input.max = this.state.max.toString();\n        this.input.min = this.state.min.toString();\n        this.input.step = this.state.step.toString();\n        this.setStyle();\n        return this;\n    }\n    handleChange = (e: Event) => {\n        this.setValue(+(e.currentTarget as HTMLInputElement).value);\n    };\n    setStyle = () => {\n        const { height, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.input.style.backgroundColor = bgcolor;\n        this.input.style.borderColor = bordercolor;\n        this.input.style.color = textcolor;\n        this.input.style.fontSize = `${fontsize || height * grid / 4}px`;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.input.addEventListener(\"change\", this.handleChange);\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        const valueChange = () => this.input.value = (+this.state.value.toFixed(3)).toString();\n        this.on(\"value\", () => this.schedule(valueChange));\n        const maxChange = () => this.input.max = this.state.max.toString();\n        this.on(\"max\", () => this.schedule(maxChange));\n        const minChange = () => this.input.min = this.state.min.toString();\n        this.on(\"min\", () => this.schedule(minChange));\n        const stepChange = () => this.input.step = this.state.step.toString();\n        this.on(\"step\", () => this.schedule(stepChange));\n        return this;\n    }\n    mount() {\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.input);\n        return super.mount();\n    }\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemStyle, FaustUIItemProps } from \"./types\";\nimport \"./Button.scss\";\n\nexport interface FaustUIButtonStyle extends FaustUIItemStyle {\n    fontname?: string;\n    fontsize?: number;\n    fontface?: \"normal\" | \"bold\" | \"italic\" | \"bold italic\";\n    bgcolor?: string;\n    bgoncolor?: string;\n    bordercolor?: string;\n    borderoncolor?: string;\n    textcolor?: string;\n    textoncolor?: string;\n}\nexport class Button extends AbstractItem<FaustUIButtonStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUIButtonStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"normal\",\n                bgcolor: \"rgba(40, 40, 40, 1)\",\n                bgoncolor: \"rgba(18, 18, 18, 1)\",\n                bordercolor: \"rgba(80, 80, 80, 1)\",\n                borderoncolor: \"rgba(255, 165, 0, 1)\",\n                textcolor: \"rgba(226, 222, 255, 0.5)\",\n                textoncolor: \"rgba(255, 165, 0, 1)\"\n            }\n        };\n    }\n    className = \"button\";\n\n    btn: HTMLDivElement;\n    span: HTMLSpanElement;\n    componentWillMount() {\n        super.componentWillMount();\n        this.btn = document.createElement(\"div\");\n        this.span = document.createElement(\"span\");\n        this.span.innerText = this.state.label;\n        this.setStyle();\n        return this;\n    }\n    setStyle = () => {\n        const { value, style } = this.state;\n        const { height, grid, fontsize, fontname, fontface, textcolor, textoncolor, bgoncolor, bgcolor, bordercolor, borderoncolor } = style;\n        this.btn.style.backgroundColor = value ? bgoncolor : bgcolor;\n        this.btn.style.borderColor = value ? borderoncolor : bordercolor;\n        this.btn.style.color = value ? textoncolor : textcolor;\n        this.btn.style.fontSize = `${fontsize || height * grid / 4}px`;\n        this.btn.style.fontFamily = `${fontname}, sans-serif`;\n        this.btn.style.fontStyle = fontface;\n    };\n    mount() {\n        this.btn.appendChild(this.span);\n        this.container.appendChild(this.btn);\n        return super.mount();\n    }\n    componentDidMount() {\n        super.componentDidMount();\n        this.btn.addEventListener(\"mousedown\", this.handleMouseDown);\n        this.btn.addEventListener(\"touchstart\", this.handleTouchStart);\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        const labelChange = () => this.span.innerText = this.state.label;\n        this.on(\"label\", () => this.schedule(labelChange));\n        this.on(\"value\", () => this.schedule(this.setStyle));\n        return this;\n    }\n    handlePointerDown = () => {\n        this.setValue(1);\n    };\n    handlePointerUp = () => {\n        this.setValue(0);\n    };\n}\n","import { Button } from \"./Button\";\nimport \"./Checkbox.scss\";\n\nexport class Checkbox extends Button {\n    className = \"checkbox\";\n\n    handlePointerDown = () => {\n        this.setValue(1 - this.state.value);\n    };\n    handlePointerUp = () => {\n    };\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps, PointerDragEvent } from \"./types\";\nimport \"./Knob.scss\";\nimport { FaustUINentryStyle } from \"./Nentry\";\nimport { toRad, normLog, normExp } from \"./utils\";\n\ninterface FaustUIKnobStyle extends FaustUINentryStyle {\n    knobwidth?: number;\n    knobcolor?: string;\n    knoboncolor?: string;\n    needlecolor?: string;\n}\nexport class Knob extends AbstractItem<FaustUIKnobStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUIKnobStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(18, 18, 18, 0)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\",\n                knobwidth: undefined,\n                knobcolor: \"rgba(18, 18, 18, 1)\",\n                knoboncolor: \"rgba(255, 165, 0, 1)\",\n                needlecolor: \"rgba(200, 200, 200, 0.75)\"\n            }\n        };\n    }\n    className = \"knob\";\n\n    canvas: HTMLCanvasElement;\n    inputNumber: HTMLInputElement;\n    input: HTMLInputElement;\n    ctx: CanvasRenderingContext2D;\n    componentWillMount() {\n        super.componentWillMount();\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = 10;\n        this.canvas.height = 10;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.inputNumber = document.createElement(\"input\");\n        this.inputNumber.type = \"number\";\n        this.inputNumber.value = (+this.state.value.toFixed(3)).toString();\n        this.inputNumber.max = this.state.max.toString();\n        this.inputNumber.min = this.state.min.toString();\n        this.inputNumber.step = this.state.step.toString();\n        this.input = document.createElement(\"input\");\n        this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n        this.input.spellcheck = false;\n        this.setStyle();\n        return this;\n    }\n    handleChange = (e: Event) => {\n        const value = parseFloat((e.currentTarget as HTMLInputElement).value);\n        if (isFinite(value)) {\n            const changed = this.setValue(+this.inputNumber.value);\n            if (changed) return;\n        }\n        this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n    };\n    setStyle = () => {\n        const { fontsize, height, grid, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.input.style.fontSize = `${fontsize || height * grid * 0.1}px`;\n        this.input.style.color = textcolor;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.input.addEventListener(\"change\", this.handleChange);\n        this.canvas.addEventListener(\"mousedown\", this.handleMouseDown);\n        this.canvas.addEventListener(\"touchstart\", this.handleTouchStart, { passive: false });\n        this.on(\"style\", () => {\n            this.schedule(this.setStyle);\n            this.schedule(this.paint);\n        });\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        const valueChange = () => {\n            this.inputNumber.value = (+this.state.value.toFixed(3)).toString();\n            this.input.value = this.inputNumber.value + (this.state.unit || \"\");\n        };\n        this.on(\"value\", () => {\n            this.schedule(valueChange);\n            this.schedule(this.paint);\n        });\n        const maxChange = () => this.inputNumber.max = this.state.max.toString();\n        this.on(\"max\", () => {\n            this.schedule(maxChange);\n            this.schedule(this.paint);\n        });\n        const minChange = () => this.inputNumber.min = this.state.min.toString();\n        this.on(\"min\", () => {\n            this.schedule(minChange);\n            this.schedule(this.paint);\n        });\n        const stepChange = () => this.inputNumber.step = this.state.step.toString();\n        this.on(\"step\", () => {\n            this.schedule(stepChange);\n            this.schedule(this.paint);\n        });\n        this.schedule(this.paint);\n        return this;\n    }\n    mount() {\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.canvas);\n        this.container.appendChild(this.input);\n        return super.mount();\n    }\n    paint = () => {\n        const { knobwidth, knobcolor, knoboncolor, needlecolor } = this.state.style;\n        const ctx = this.ctx;\n        const canvas = this.canvas;\n        const distance = this.distance;\n        let { width, height } = this.canvas.getBoundingClientRect();\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.width = width;\n        canvas.height = height;\n\n        const start = 5 / 8 * Math.PI;\n        const end = 19 / 8 * Math.PI;\n        const valPos = start + toRad(distance * 315);\n        const dialHeight = Math.min(width, height) * 0.75;\n        const dialRadius = dialHeight * 0.5;\n        const dialCenterX = width * 0.5;\n        const dialCenterY = height * 0.5;\n        // const arcStartX = dialCenterX + (dialHeight * 0.5 * Math.cos(start));\n        // const arcStartY = dialCenterY + (dialHeight * 0.5 * Math.sin(start));\n        // const arcEndX = dialCenterX + (dialHeight * 0.5 * Math.cos(end));\n        // const arcEndY = dialCenterY + (dialHeight * 0.5 * Math.sin(end));\n        const valuePosX = dialCenterX + (dialHeight * 0.5 * Math.cos(valPos));\n        const valuePosY = dialCenterY + (dialHeight * 0.5 * Math.sin(valPos));\n        const lineWidth = knobwidth || dialRadius * 0.2;\n\n        ctx.strokeStyle = knobcolor;\n        ctx.lineWidth = lineWidth;\n        ctx.lineCap = \"round\";\n        // draw background arc\n        ctx.beginPath();\n        ctx.arc(dialCenterX, dialCenterY, dialRadius, valPos, end);\n        ctx.stroke();\n        // draw value arc\n        if (distance) {\n            ctx.strokeStyle = knoboncolor;\n            ctx.beginPath();\n            ctx.arc(dialCenterX, dialCenterY, dialRadius, start, valPos);\n            ctx.stroke();\n        }\n        // draw dial needle\n        ctx.strokeStyle = needlecolor;\n        ctx.beginPath();\n        ctx.moveTo(dialCenterX, dialCenterY);\n        ctx.lineTo(valuePosX, valuePosY);\n        ctx.stroke();\n    };\n    getValueFromDelta(e: PointerDragEvent) {\n        const { type, min, max, enums, scale } = this.state;\n        const step = type === \"enum\" ? 1 : (this.state.step || 1);\n        const stepRange = this.stepRange;\n        const stepsCount = this.stepsCount;\n        const range = 100;\n        const prevDistance = AbstractItem.getDistance({ value: e.prevValue, type, min, max, enums, scale }) * range;\n        const distance = prevDistance + e.fromY - e.y;\n        let steps = Math.round((scale === \"exp\" ? normExp(distance / range) : scale === \"log\" ? normLog(distance / range) : distance / range) * range / stepRange);\n        steps = Math.min(stepsCount, Math.max(0, steps));\n        if (type === \"enum\") return steps;\n        if (type === \"int\") return Math.round(steps * step + min);\n        return steps * step + min;\n    }\n    handlePointerDrag = (e: PointerDragEvent) => {\n        const newValue = this.getValueFromDelta(e);\n        if (newValue !== this.state.value) this.setValue(newValue);\n    };\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemStyle, FaustUIItemProps } from \"./types\";\nimport \"./Menu.scss\";\n\nexport interface FaustUIMenuStyle extends FaustUIItemStyle {\n    fontname?: string;\n    fontsize?: number;\n    fontface?: \"regular\" | \"bold\" | \"italic\" | \"bold italic\";\n    bgcolor?: string;\n    bordercolor?: string;\n    labelcolor?: string;\n    textcolor?: string;\n}\nexport class Menu extends AbstractItem<FaustUIMenuStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUIMenuStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(255, 255, 255, 0.25)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\"\n            }\n        };\n    }\n    className = \"menu\";\n\n    select: HTMLSelectElement;\n    componentWillMount() {\n        super.componentWillMount();\n        this.select = document.createElement(\"select\");\n        this.getOptions();\n        this.setStyle();\n        return this;\n    }\n    getOptions() {\n        const { enums } = this.state;\n        this.select.innerHTML = \"\";\n        if (enums) {\n            let i = 0;\n            for (const key in enums) {\n                const option = document.createElement(\"option\");\n                option.value = enums[key].toString();\n                option.text = key;\n                if (i === 0) option.selected = true;\n                this.select.appendChild(option);\n                i++;\n            }\n        }\n    }\n    handleChange = (e: Event) => {\n        this.setValue(+(e.currentTarget as HTMLInputElement).value);\n    };\n    setStyle = () => {\n        const { height, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.select.style.backgroundColor = bgcolor;\n        this.select.style.borderColor = bordercolor;\n        this.select.style.color = textcolor;\n        this.select.style.fontSize = `${fontsize || height * grid / 4}px`;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.select.addEventListener(\"change\", this.handleChange);\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        this.on(\"enums\", () => this.schedule(this.getOptions));\n        const valueChange = () => {\n            for (let i = this.select.children.length - 1; i >= 0; i--) {\n                const option = this.select.children[i] as HTMLOptionElement;\n                if (+option.value === this.state.value) this.select.selectedIndex = i;\n            }\n        };\n        this.on(\"value\", () => this.schedule(valueChange));\n        valueChange();\n        return this;\n    }\n    mount() {\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.select);\n        return super.mount();\n    }\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemStyle, FaustUIItemProps } from \"./types\";\nimport \"./Radio.scss\";\n\nexport interface FaustUIRadioStyle extends FaustUIItemStyle {\n    fontname?: string;\n    fontsize?: number;\n    fontface?: \"regular\" | \"bold\" | \"italic\" | \"bold italic\";\n    bgcolor?: string;\n    bordercolor?: string;\n    labelcolor?: string;\n    textcolor?: string;\n}\nexport class Radio extends AbstractItem<FaustUIRadioStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUIRadioStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(255, 255, 255, 0.25)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\"\n            }\n        };\n    }\n    className = \"radio\";\n\n    group: HTMLDivElement;\n    componentWillMount() {\n        super.componentWillMount();\n        this.group = document.createElement(\"div\");\n        this.group.className = \"faust-ui-component-radio-group\";\n        this.getOptions();\n        this.setStyle();\n        return this;\n    }\n    getOptions = () => {\n        const { enums, address } = this.state;\n        this.group.innerHTML = \"\";\n        if (enums) {\n            let i = 0;\n            for (const key in enums) {\n                const input = document.createElement(\"input\");\n                const div = document.createElement(\"div\");\n                input.value = enums[key].toString();\n                input.name = address;\n                input.type = \"radio\";\n                if (i === 0) input.checked = true;\n                input.addEventListener(\"change\", () => {\n                    if (input.checked) this.setValue(enums[key]);\n                });\n                div.appendChild(input);\n                div.append(key);\n                this.group.appendChild(div);\n                i++;\n            }\n        }\n    };\n    setStyle = () => {\n        const { height, width, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        const fontSize = Math.min(height * grid * 0.1, width * grid * 0.1);\n        this.group.style.backgroundColor = bgcolor;\n        this.group.style.borderColor = bordercolor;\n        this.group.style.color = textcolor;\n        this.group.style.fontSize = `${fontsize || fontSize}px`;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        this.on(\"enums\", () => this.schedule(this.getOptions));\n        const valueChange = () => {\n            for (let i = this.group.children.length - 1; i >= 0; i--) {\n                const input = this.group.children[i].querySelector(\"input\");\n                if (+input.value === this.state.value) input.checked = true;\n            }\n        };\n        this.on(\"value\", () => this.schedule(valueChange));\n        valueChange();\n        return this;\n    }\n    mount() {\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.group);\n        return super.mount();\n    }\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps } from \"./types\";\nimport \"./Led.scss\";\nimport { FaustUINentryStyle } from \"./Nentry\";\n\ninterface FaustUILedStyle extends FaustUINentryStyle {\n    shape?: \"circle\" | \"square\";\n    ledbgcolor?: string;\n    coldcolor?: string;\n    warmcolor?: string;\n    hotcolor?: string;\n    overloadcolor?: string;\n}\nexport class Led extends AbstractItem<FaustUILedStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUILedStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(18, 18, 18, 0)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\",\n                shape: \"circle\",\n                ledbgcolor: \"rgba(18, 18, 18, 1)\",\n                coldcolor: \"rgba(12, 248, 100, 1)\",\n                warmcolor: \"rgba(195, 248, 100, 1)\",\n                hotcolor: \"rgba(255, 193, 10, 1)\",\n                overloadcolor: \"rgba(255, 10, 10, 1)\"\n            }\n        };\n    }\n    className = \"led\";\n\n    canvasDiv: HTMLDivElement;\n    canvas: HTMLCanvasElement;\n    tempCanvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    tempCtx: CanvasRenderingContext2D;\n    componentWillMount() {\n        super.componentWillMount();\n        this.canvasDiv = document.createElement(\"div\");\n        this.canvasDiv.className = `faust-ui-component-${this.className}-canvasdiv`;\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = 10;\n        this.canvas.height = 10;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.tempCanvas = document.createElement(\"canvas\");\n        this.tempCtx = this.tempCanvas.getContext(\"2d\");\n        this.tempCanvas.width = 128;\n        this.tempCanvas.height = 1;\n        this.setStyle();\n        return this;\n    }\n    setStyle = () => {\n        const { bgcolor, bordercolor } = this.state.style;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.canvas.addEventListener(\"mousedown\", this.handleMouseDown);\n        this.canvas.addEventListener(\"touchstart\", this.handleTouchStart, { passive: false });\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        this.on(\"value\", () => this.schedule(this.paint));\n        this.on(\"max\", () => this.schedule(this.paint));\n        this.on(\"min\", () => this.schedule(this.paint));\n        this.on(\"step\", () => this.schedule(this.paint));\n        this.schedule(this.paint);\n        return this;\n    }\n    mount() {\n        this.canvasDiv.appendChild(this.canvas);\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.canvasDiv);\n        return super.mount();\n    }\n    paint = () => {\n        const { shape, ledbgcolor, coldcolor, warmcolor, hotcolor, overloadcolor } = this.state.style;\n        const { min, max } = this.state;\n        const { canvas, ctx, tempCanvas, tempCtx, distance } = this;\n        const { width, height } = canvas.getBoundingClientRect();\n        canvas.width = width;\n        canvas.height = height;\n\n        const drawHeight = Math.min(height, width) * 0.75;\n        const drawWidth = drawHeight;\n        const left = (width - drawWidth) * 0.5;\n        const top = (height - drawHeight) * 0.5;\n        const coldStop = (-18 - min) / (max - min);\n        const warmStop = (-6 - min) / (max - min);\n        const hotStop = (-3 - min) / (max - min);\n        const overloadStop = -min / (max - min);\n        const gradient = tempCtx.createLinearGradient(0, 0, tempCanvas.width, 0);\n        if (coldStop <= 1 && coldStop >= 0) gradient.addColorStop(coldStop, coldcolor);\n        else if (coldStop > 1) gradient.addColorStop(1, coldcolor);\n        if (warmStop <= 1 && warmStop >= 0) gradient.addColorStop(warmStop, warmcolor);\n        if (hotStop <= 1 && hotStop >= 0) gradient.addColorStop(hotStop, hotcolor);\n        if (overloadStop <= 1 && overloadStop >= 0) gradient.addColorStop(overloadStop, overloadcolor);\n        else if (overloadStop < 0) gradient.addColorStop(0, coldcolor);\n        tempCtx.fillStyle = gradient;\n        tempCtx.fillRect(0, 0, tempCanvas.width, 10);\n        const d = tempCtx.getImageData(Math.min(tempCanvas.width - 1, distance * tempCanvas.width), 0, 1, 1).data;\n        if (distance) ctx.fillStyle = `rgb(${d[0]}, ${d[1]}, ${d[2]})`;\n        else ctx.fillStyle = ledbgcolor;\n        if (shape === \"circle\") ctx.arc(width / 2, height / 2, width / 2 - left, 0, 2 * Math.PI);\n        else ctx.rect(left, top, drawWidth, drawHeight);\n        ctx.fill();\n    };\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps } from \"./types\";\nimport \"./Numerical.scss\";\nimport { FaustUINentryStyle } from \"./Nentry\";\n\nexport class Numerical extends AbstractItem<FaustUINentryStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUINentryStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(255, 255, 255, 0.25)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\"\n            }\n        };\n    }\n    className = \"numerical\";\n\n    input: HTMLInputElement;\n    componentWillMount() {\n        super.componentWillMount();\n        this.input = document.createElement(\"input\");\n        this.input.disabled = true;\n        this.input.value = (+this.state.value.toFixed(3)).toString() + (this.state.unit || \"\");\n        this.setStyle();\n        return this;\n    }\n    setStyle = () => {\n        const { height, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.input.style.backgroundColor = bgcolor;\n        this.input.style.borderColor = bordercolor;\n        this.input.style.color = textcolor;\n        this.input.style.fontSize = `${fontsize || height * grid / 4}px`;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.on(\"style\", () => this.schedule(this.setStyle));\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        const valueChange = () => this.input.value = (+this.state.value.toFixed(3)).toString() + (this.state.unit || \"\");\n        this.on(\"value\", () => this.schedule(valueChange));\n        return this;\n    }\n    mount() {\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.input);\n        return super.mount();\n    }\n}\n","import { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps } from \"./types\";\nimport \"./VBargraph.scss\";\nimport { FaustUINentryStyle } from \"./Nentry\";\n\ninterface FaustUIBargraphStyle extends FaustUINentryStyle {\n    barwidth?: number;\n    barbgcolor?: string;\n    coldcolor?: string;\n    warmcolor?: string;\n    hotcolor?: string;\n    overloadcolor?: string;\n}\nexport class VBargraph extends AbstractItem<FaustUIBargraphStyle> {\n    static get defaultProps(): FaustUIItemProps<FaustUIBargraphStyle> {\n        const inherited = super.defaultProps;\n        return {\n            ...inherited,\n            style: {\n                ...inherited.style,\n                fontname: \"Arial\",\n                fontsize: undefined,\n                fontface: \"regular\",\n                bgcolor: \"rgba(18, 18, 18, 0)\",\n                bordercolor: \"rgba(80, 80, 80, 0)\",\n                labelcolor: \"rgba(226, 222, 255, 0.5)\",\n                textcolor: \"rgba(18, 18, 18, 1)\",\n                barwidth: undefined,\n                barbgcolor: \"rgba(18, 18, 18, 1)\",\n                coldcolor: \"rgba(12, 248, 100, 1)\",\n                warmcolor: \"rgba(195, 248, 100, 1)\",\n                hotcolor: \"rgba(255, 193, 10, 1)\",\n                overloadcolor: \"rgba(255, 10, 10, 1)\"\n            }\n        };\n    }\n    className = \"vbargraph\";\n\n    canvas: HTMLCanvasElement;\n    input: HTMLInputElement;\n    flexDiv: HTMLDivElement;\n    canvasDiv: HTMLDivElement;\n    ctx: CanvasRenderingContext2D;\n    componentWillMount() {\n        super.componentWillMount();\n        this.flexDiv = document.createElement(\"div\");\n        this.flexDiv.className = `faust-ui-component-${this.className}-flexdiv`;\n        this.canvasDiv = document.createElement(\"div\");\n        this.canvasDiv.className = `faust-ui-component-${this.className}-canvasdiv`;\n        this.canvas = document.createElement(\"canvas\");\n        this.canvas.width = 10;\n        this.canvas.height = 10;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.input = document.createElement(\"input\");\n        this.input.disabled = true;\n        this.input.value = (+this.state.value.toFixed(3)).toString() + (this.state.unit || \"\");\n        this.setStyle();\n        return this;\n    }\n    setStyle = () => {\n        const { height, width, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        const fontSize = Math.min(height * grid * 0.05, width * grid * 0.2);\n        this.input.style.fontSize = `${fontsize || fontSize}px`;\n        this.input.style.color = textcolor;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    componentDidMount() {\n        super.componentDidMount();\n        this.canvas.addEventListener(\"mousedown\", this.handleMouseDown);\n        this.canvas.addEventListener(\"touchstart\", this.handleTouchStart, { passive: false });\n        this.on(\"style\", () => {\n            this.schedule(this.setStyle);\n            this.schedule(this.paint);\n        });\n        this.on(\"label\", () => this.schedule(this.paintLabel));\n        const valueChange = () => this.input.value = (+this.state.value.toFixed(3)).toString() + (this.state.unit || \"\");\n        this.on(\"value\", () => {\n            this.schedule(valueChange);\n            this.schedule(this.paint);\n        });\n        this.on(\"max\", () => this.schedule(this.paint));\n        this.on(\"min\", () => this.schedule(this.paint));\n        this.on(\"step\", () => this.schedule(this.paint));\n        this.schedule(this.paint);\n        return this;\n    }\n    mount() {\n        this.canvasDiv.appendChild(this.canvas);\n        this.flexDiv.appendChild(this.canvasDiv);\n        this.flexDiv.appendChild(this.input);\n        this.container.appendChild(this.label);\n        this.container.appendChild(this.flexDiv);\n        return super.mount();\n    }\n    paintValue = 0;\n    maxValue = -Infinity;\n    maxTimer: number;\n    paint = () => {\n        const { barwidth, barbgcolor, coldcolor, warmcolor, hotcolor, overloadcolor } = this.state.style;\n        const { min, max, value } = this.state;\n        const ctx = this.ctx;\n        const canvas = this.canvas;\n        let { width, height } = this.canvasDiv.getBoundingClientRect();\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.width = width;\n        canvas.height = height;\n\n        const drawHeight = height * 0.9;\n        const drawWidth = barwidth || Math.min(width / 3, drawHeight * 0.05);\n        const left = (width - drawWidth) * 0.5;\n        const top = height * 0.05;\n        this.paintValue = value;\n        const paintValue = this.paintValue;\n        if (paintValue > this.maxValue) {\n            this.maxValue = paintValue;\n            if (this.maxTimer) window.clearTimeout(this.maxTimer);\n            this.maxTimer = window.setTimeout(() => {\n                this.maxValue = this.paintValue;\n                this.maxTimer = undefined;\n                this.schedule(this.paint);\n            }, 1000);\n        }\n        if (paintValue < this.maxValue && typeof this.maxTimer === \"undefined\") {\n            this.maxTimer = window.setTimeout(() => {\n                this.maxValue = this.paintValue;\n                this.maxTimer = undefined;\n                this.schedule(this.paint);\n            }, 1000);\n        }\n        const maxValue = this.maxValue;\n        const coldStop = (-18 - min) / (max - min);\n        const warmStop = (-6 - min) / (max - min);\n        const hotStop = (-3 - min) / (max - min);\n        const overloadStop = -min / (max - min);\n        const gradient = ctx.createLinearGradient(0, drawHeight, 0, top);\n        if (coldStop <= 1 && coldStop >= 0) gradient.addColorStop(coldStop, coldcolor);\n        else if (coldStop > 1) gradient.addColorStop(1, coldcolor);\n        if (warmStop <= 1 && warmStop >= 0) gradient.addColorStop(warmStop, warmcolor);\n        if (hotStop <= 1 && hotStop >= 0) gradient.addColorStop(hotStop, hotcolor);\n        if (overloadStop <= 1 && overloadStop >= 0) gradient.addColorStop(overloadStop, overloadcolor);\n        else if (overloadStop < 0) gradient.addColorStop(0, coldcolor);\n\n        ctx.fillStyle = barbgcolor;\n        if (paintValue < 0) ctx.fillRect(left, top + (1 - overloadStop) * drawHeight, drawWidth, drawHeight * overloadStop);\n        if (paintValue < max) ctx.fillRect(left, top, drawWidth, (1 - overloadStop) * drawHeight - 1);\n        ctx.fillStyle = gradient;\n        if (paintValue > min) {\n            const distance = (Math.min(0, paintValue) - min) / (max - min);\n            ctx.fillRect(left, top + (1 - distance) * drawHeight, drawWidth, drawHeight * distance);\n        }\n        if (paintValue > 0) {\n            const distance = Math.min(max, paintValue) / (max - min);\n            ctx.fillRect(left, top + (1 - overloadStop - distance) * drawHeight, drawWidth, drawHeight * distance - 1);\n        }\n        if (maxValue > paintValue) {\n            if (maxValue <= 0) {\n                const distance = (Math.min(0, maxValue) - min) / (max - min);\n                ctx.fillRect(left, top + (1 - distance) * drawHeight, drawWidth, 1);\n            }\n            if (maxValue > 0) {\n                const distance = Math.min(max, maxValue) / (max - min);\n                ctx.fillRect(left, Math.max(top, top + (1 - overloadStop - distance) * drawHeight - 1), drawWidth, 1);\n            }\n        }\n    };\n}\n","import \"./HBargraph.scss\";\nimport { VBargraph } from \"./VBargraph\";\n\nexport class HBargraph extends VBargraph {\n    className = \"hbargraph\";\n\n    paintLabel() {\n        return super.paintLabel(\"left\");\n    }\n    setStyle = () => {\n        const { height, grid, fontsize, textcolor, bgcolor, bordercolor } = this.state.style;\n        this.input.style.fontSize = `${fontsize || height * grid * 0.2}px`;\n        this.input.style.color = textcolor;\n        this.container.style.backgroundColor = bgcolor;\n        this.container.style.borderColor = bordercolor;\n    };\n    paint = () => {\n        const { barwidth, barbgcolor, coldcolor, warmcolor, hotcolor, overloadcolor } = this.state.style;\n        const { min, max, value } = this.state;\n        const ctx = this.ctx;\n        const canvas = this.canvas;\n        let { width, height } = this.canvasDiv.getBoundingClientRect();\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.width = width;\n        canvas.height = height;\n\n        const drawWidth = width * 0.9;\n        const drawHeight = barwidth || Math.min(height / 3, drawWidth * 0.05);\n        const left = width * 0.05;\n        const top = (height - drawHeight) * 0.5;\n        this.paintValue = value;\n        const paintValue = this.paintValue;\n        if (paintValue > this.maxValue) {\n            this.maxValue = paintValue;\n            if (this.maxTimer) window.clearTimeout(this.maxTimer);\n            this.maxTimer = window.setTimeout(() => {\n                this.maxValue = this.paintValue;\n                this.maxTimer = undefined;\n            }, 1000);\n        }\n        if (paintValue < this.maxValue && typeof this.maxTimer === \"undefined\") {\n            this.maxTimer = window.setTimeout(() => {\n                this.maxValue = this.paintValue;\n                this.maxTimer = undefined;\n            }, 1000);\n        }\n        const maxValue = this.maxValue;\n        const coldStop = (-18 - min) / (max - min);\n        const warmStop = (-6 - min) / (max - min);\n        const hotStop = (-3 - min) / (max - min);\n        const overloadStop = -min / (max - min);\n        const gradient = ctx.createLinearGradient(left, 0, drawWidth, 0);\n        if (coldStop <= 1 && coldStop >= 0) gradient.addColorStop(coldStop, coldcolor);\n        else if (coldStop > 1) gradient.addColorStop(1, coldcolor);\n        if (warmStop <= 1 && warmStop >= 0) gradient.addColorStop(warmStop, warmcolor);\n        if (hotStop <= 1 && hotStop >= 0) gradient.addColorStop(hotStop, hotcolor);\n        if (overloadStop <= 1 && overloadStop >= 0) gradient.addColorStop(overloadStop, overloadcolor);\n        else if (overloadStop < 0) gradient.addColorStop(0, coldcolor);\n\n        ctx.fillStyle = barbgcolor;\n        if (paintValue < 0) ctx.fillRect(left, top, drawWidth * overloadStop, drawHeight);\n        if (paintValue < max) ctx.fillRect(left + drawWidth * overloadStop + 1, top, drawWidth * (1 - overloadStop) - 1, drawHeight);\n        ctx.fillStyle = gradient;\n        if (paintValue > min) {\n            const distance = (Math.min(0, paintValue) - min) / (max - min);\n            ctx.fillRect(left, top, distance * drawWidth, drawHeight);\n        }\n        if (paintValue > 0) {\n            const distance = Math.min(max, paintValue) / (max - min);\n            ctx.fillRect(left + overloadStop * drawWidth + 1, top, distance * drawWidth - 1, drawHeight);\n        }\n        if (maxValue > paintValue) {\n            if (maxValue <= 0) {\n                const distance = (Math.min(0, maxValue) - min) / (max - min);\n                ctx.fillRect(left + distance * drawWidth - 1, top, 1, drawHeight);\n            }\n            if (maxValue > 0) {\n                const distance = Math.min(max, maxValue) / (max - min);\n                ctx.fillRect(left + Math.min(drawWidth - 1, (overloadStop + distance) * drawWidth), top, 1, drawHeight);\n            }\n        }\n    };\n}\n","import { FaustUI } from \"../FaustUI\";\nimport { AbstractComponent } from \"./AbstractComponent\";\nimport { AbstractItem } from \"./AbstractItem\";\nimport { FaustUIItemProps, FaustUIItemStyle, FaustUIGroupProps } from \"./types\";\nimport { HSlider } from \"./HSlider\";\nimport { VSlider } from \"./VSlider\";\nimport { Nentry } from \"./Nentry\";\nimport { Button } from \"./Button\";\nimport { Checkbox } from \"./Checkbox\";\nimport { Knob } from \"./Knob\";\nimport { Menu } from \"./Menu\";\nimport { Radio } from \"./Radio\";\nimport { Led } from \"./Led\";\nimport { Numerical } from \"./Numerical\";\nimport { HBargraph } from \"./HBargraph\";\nimport { VBargraph } from \"./VBargraph\";\nimport { Layout } from \"../layout/Layout\";\nimport \"./Group.scss\";\nimport { TFaustUIMeta, TFaustUIItem, TFaustUIGroup, TFaustUIInputItem, TFaustUIOutputItem, TLayoutProp } from \"../types\";\n\nexport class Group extends AbstractComponent<FaustUIGroupProps> {\n    static parseMeta(metaIn: TFaustUIMeta[]): { metaObject: TFaustUIMeta; enums?: { [key: string]: number } } {\n        const metaObject: TFaustUIMeta = {};\n        if (!metaIn) return { metaObject };\n        metaIn.forEach(m => Object.assign(metaObject, m));\n        if (metaObject.style) {\n            const enumsRegex = /\\{(?:(?:'|_)(.+?)(?:'|_):([-+]?[0-9]*\\.?[0-9]+?);)+(?:(?:'|_)(.+?)(?:'|_):([-+]?[0-9]*\\.?[0-9]+?))\\}/;\n            const matched = metaObject.style.match(enumsRegex);\n            if (matched) {\n                const itemsRegex = /(?:(?:'|_)(.+?)(?:'|_):([-+]?[0-9]*\\.?[0-9]+?))/g;\n                const enums: { [key: string]: number } = {};\n                let item;\n                // eslint-disable-next-line no-cond-assign\n                while (item = itemsRegex.exec(matched[0])) {\n                    enums[item[1]] = +item[2];\n                }\n                return { metaObject, enums };\n            }\n        }\n        return { metaObject };\n    }\n    static getComponent(item: TFaustUIItem, emitter: FaustUI, grid: number) {\n        const type = Layout.predictType(item);\n        if (type.endsWith(\"group\")) {\n            const { label, items, type, layout } = item as TFaustUIGroup;\n            const props: FaustUIGroupProps = {\n                label,\n                type,\n                items,\n                style: {\n                    grid,\n                    width: layout.width,\n                    height: layout.height,\n                    left: layout.offsetLeft,\n                    top: layout.offsetTop,\n                    labelcolor: \"rgba(255, 255, 255, 0.7)\"\n                },\n                emitter\n            };\n            return new Group(props);\n        }\n        const ioItem = item as TFaustUIInputItem | TFaustUIOutputItem;\n        const { metaObject, enums } = this.parseMeta(ioItem.meta);\n        const { tooltip, unit, scale } = metaObject;\n        const { label, min, max, address, layout } = ioItem;\n        const props: FaustUIItemProps<FaustUIItemStyle> = {\n            label,\n            address,\n            tooltip,\n            unit,\n            scale: scale || \"linear\",\n            emitter,\n            enums,\n            style: {\n                grid,\n                width: layout.width,\n                height: layout.height,\n                left: layout.offsetLeft,\n                top: layout.offsetTop\n            },\n            type: \"float\",\n            min: isFinite(min) ? min : 0,\n            max: isFinite(max) ? max : 1,\n            step: \"step\" in item ? +item.step : 1,\n            value: \"init\" in item ? +item.init || 0 : 0\n        };\n        if (type === \"button\") return new Button(props);\n        if (type === \"checkbox\") return new Checkbox(props);\n        if (type === \"nentry\") return new Nentry(props);\n        if (type === \"knob\") return new Knob(props);\n        if (type === \"menu\") return new Menu(props);\n        if (type === \"radio\") return new Radio(props);\n        if (type === \"hslider\") return new HSlider(props);\n        if (type === \"vslider\") return new VSlider(props);\n        if (type === \"hbargraph\") return new HBargraph(props);\n        if (type === \"vbargraph\") return new VBargraph(props);\n        if (type === \"numerical\") return new Numerical(props);\n        if (type === \"led\") return new Led(props);\n        return null;\n    }\n    /**\n     * DOM Div container of the group\n     *\n     * @type {HTMLDivElement}\n     * @memberof AbstractItem\n     */\n    container: HTMLDivElement;\n    /**\n     * DOM Div container of label canvas\n     *\n     * @type {HTMLDivElement}\n     * @memberof AbstractItem\n     */\n    label: HTMLDivElement;\n    /**\n     * Use canvas as label to fit full text in.\n     *\n     * @type {HTMLCanvasElement}\n     * @memberof AbstractItem\n     */\n    labelCanvas: HTMLCanvasElement;\n    labelCtx: CanvasRenderingContext2D;\n    tabs: HTMLDivElement;\n    children: (AbstractItem<FaustUIItemStyle> | Group)[];\n    layout: TLayoutProp;\n    setState(newState: { [key in keyof FaustUIGroupProps]?: FaustUIGroupProps[key] }) {\n        let shouldUpdate = false;\n        for (const key in newState) {\n            const stateKey = key as keyof FaustUIGroupProps;\n            const stateValue = newState[stateKey];\n            if (stateKey === \"style\") {\n                for (const key in newState.style) {\n                    const styleKey = key as keyof FaustUIItemStyle;\n                    if (styleKey in this.state.style && this.state.style[styleKey] !== newState.style[styleKey]) {\n                        (this.state.style as any)[styleKey] = newState.style[styleKey];\n                        shouldUpdate = true;\n                    }\n                }\n            } else if (stateKey in this.state && this.state[stateKey] !== stateValue) {\n                (this.state as any)[stateKey] = stateValue;\n                shouldUpdate = true;\n            } else return;\n            if (shouldUpdate) this.emit(stateKey, this.state[stateKey]);\n        }\n    }\n    componentWillMount(): this {\n        this.container = document.createElement(\"div\");\n        this.tabs = document.createElement(\"div\");\n        this.tabs.className = \"faust-ui-tgroup-tabs\";\n        this.label = document.createElement(\"div\");\n        this.label.className = \"faust-ui-group-label\";\n        this.labelCanvas = document.createElement(\"canvas\");\n        this.labelCtx = this.labelCanvas.getContext(\"2d\");\n        this.updateUI();\n        this.children.forEach(item => item.componentWillMount());\n        return this;\n    }\n    paintLabel(): this {\n        const label = this.state.label;\n        const color = this.state.style.labelcolor;\n        const ctx = this.labelCtx;\n        const canvas = this.labelCanvas;\n        let { width, height } = this.label.getBoundingClientRect();\n        if (!width || !height) return this;\n        width = Math.floor(width);\n        height = Math.floor(height);\n        canvas.height = height;\n        canvas.width = width;\n        ctx.clearRect(0, 0, width, height);\n        ctx.fillStyle = color;\n        ctx.textBaseline = \"middle\";\n        ctx.textAlign = \"left\";\n        ctx.font = `bold ${height * 0.9}px -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"`;\n        ctx.fillText(label, 0, height / 2, width);\n        return this;\n    }\n    updateUI = () => {\n        this.children = [];\n        const { style, type, items, emitter, isRoot } = this.state;\n        const { grid, left, top, width, height } = style;\n        this.label.style.height = `${grid * 0.3}px`;\n        this.container.style.left = `${left * grid}px`;\n        this.container.style.top = `${top * grid}px`;\n        this.container.style.width = `${width * grid}px`;\n        this.container.style.height = `${height * grid}px`;\n        this.container.className = [\"faust-ui-group\", `faust-ui-${type}`, `${isRoot ? \"faust-ui-root\" : \"\"}`].join(\" \");\n        items.forEach((item) => {\n            if (item.type.endsWith(\"group\")) {\n                const component = Group.getComponent(item, emitter, grid);\n                if (component) this.children.push(component);\n            } else {\n                const ioItem = item as TFaustUIInputItem | TFaustUIOutputItem;\n                const itemComponent = Group.getComponent(ioItem, this.state.emitter, grid);\n                if (itemComponent) this.children.push(itemComponent);\n            }\n        });\n        if (type === \"tgroup\") {\n            this.tabs.innerHTML = \"\";\n            this.tabs.style.height = `${grid}px`;\n            this.tabs.style.top = `${0.25 * grid}px`;\n            this.state.items.forEach((item, i) => {\n                const label = item.label;\n                const tab = document.createElement(\"span\");\n                tab.innerText = label;\n                tab.className = \"faust-ui-tgroup-tab\";\n                tab.style.fontSize = `${0.25 * grid}px`;\n                tab.style.width = `${2 * grid - 10}px`;\n                tab.style.height = `${grid - 10}px`;\n                tab.style.lineHeight = `${grid - 10}px`;\n                tab.addEventListener(\"click\", () => {\n                    const groups: HTMLDivElement[] = [];\n                    for (let j = 0; j < this.container.children.length; j++) {\n                        const element = this.container.children[j] as HTMLDivElement;\n                        if (element.classList.contains(\"faust-ui-group\")) groups.push(element);\n                    }\n                    for (let j = 0; j < groups.length; j++) {\n                        const element = groups[j] as HTMLDivElement;\n                        element.style.visibility = i === j ? \"visible\" : \"hidden\";\n                    }\n                    for (let j = 0; j < this.tabs.children.length; j++) {\n                        const e = this.tabs.children[j];\n                        if (i !== j) {\n                            if (e.classList.contains(\"active\")) e.classList.remove(\"active\");\n                        } else e.classList.add(\"active\");\n                    }\n                });\n                this.tabs.appendChild(tab);\n            });\n        }\n    };\n    mount(): this {\n        this.label.appendChild(this.labelCanvas);\n        this.container.appendChild(this.label);\n        if (this.tabs.children.length) this.container.appendChild(this.tabs);\n        this.children.forEach((item) => {\n            item.mount();\n            this.container.appendChild(item.container);\n        });\n        return this;\n    }\n    componentDidMount(): this {\n        const handleResize = () => {\n            const { grid, left, top, width, height } = this.state.style;\n            this.label.style.height = `${grid * 0.3}px`;\n            this.container.style.width = `${width * grid}px`;\n            this.container.style.height = `${height * grid}px`;\n            this.container.style.left = `${left * grid}px`;\n            this.container.style.top = `${top * grid}px`;\n            if (this.state.type === \"tgroup\") {\n                this.tabs.style.height = `${grid}px`;\n                this.tabs.style.top = `${0.25 * grid}px`;\n                for (let i = 0; i < this.tabs.children.length; i++) {\n                    const tab = this.tabs.children[i] as HTMLSpanElement;\n                    tab.style.fontSize = `${0.25 * grid}px`;\n                    tab.style.width = `${2 * grid - 10}px`;\n                    tab.style.height = `${grid - 10}px`;\n                    tab.style.lineHeight = `${grid - 10}px`;\n                }\n            }\n            this.paintLabel();\n            this.children.forEach(item => item.setState({ style: { grid } }));\n        };\n        this.on(\"style\", () => this.schedule(handleResize));\n        const itemsChange = () => {\n            this.updateUI();\n            this.children.forEach(item => item.componentWillMount());\n        };\n        this.on(\"items\", () => this.schedule(itemsChange));\n        const labelChange = () => {\n            this.paintLabel();\n            this.label.title = this.state.label;\n        };\n        this.on(\"label\", () => this.schedule(labelChange));\n        this.paintLabel();\n        if (this.tabs && this.tabs.children.length) (this.tabs.children[0] as HTMLSpanElement).click();\n        this.children.forEach(item => item.componentDidMount());\n        return this;\n    }\n}\n","import { Layout } from \"./layout/Layout\";\nimport \"./index.scss\";\nimport { AbstractItem } from \"./components/AbstractItem\";\nimport { Group } from \"./components/Group\";\nimport { FaustUIGroupProps } from \"./components/types\";\nimport { TFaustUI, TLayoutProp } from \"./types\";\n\ntype TOptions = {\n    root: HTMLDivElement;\n    ui?: TFaustUI;\n    listenWindowResize?: boolean;\n    listenWindowMessage?: boolean;\n};\n\n/**\n * The main class of UI constructor,\n * listening to `resize` window event to resize component,\n * listening to `message` window event to change UI or param value.\n * See readme.\n *\n * @export\n * @class FaustUI\n */\nexport class FaustUI {\n    componentMap: { [path: string]: AbstractItem<any>[] } = {};\n    DOMroot: HTMLDivElement;\n    faustUIRoot: Group;\n    hostWindow: Window;\n    grid: number;\n    private _ui: TFaustUI;\n    private _layout: TLayoutProp;\n    /**\n     * Calculate incoming UI's layout, bind window events\n     * @param {TOptions} options\n     * @memberof FaustUI\n     */\n    constructor(options: TOptions) {\n        const { root, ui: uiIn, listenWindowResize, listenWindowMessage } = options;\n        this.DOMroot = root;\n        this.ui = uiIn || [];\n        if (typeof listenWindowResize === \"undefined\" || listenWindowResize === true) {\n            window.addEventListener(\"resize\", () => {\n                this.resize();\n            });\n        }\n        if (typeof listenWindowMessage === \"undefined\" || listenWindowMessage === true) {\n            window.addEventListener(\"message\", (e) => {\n                const { data, source } = e;\n                this.hostWindow = source as Window;\n                const { type } = data;\n                if (!type) return;\n                if (type === \"ui\") {\n                    this.ui = data.ui;\n                } else if (type === \"param\") {\n                    const { path, value } = data;\n                    this.paramChangeByDSP(path, value);\n                }\n            });\n        }\n    }\n    /**\n     * Render the UI to DOM root\n     *\n     * @memberof FaustUI\n     */\n    mount() {\n        this.componentMap = {};\n        this.DOMroot.innerHTML = \"\";\n        const props: FaustUIGroupProps = {\n            label: \"\",\n            type: \"vgroup\",\n            items: this.ui,\n            style: {\n                grid: this.grid,\n                width: this.layout.width,\n                height: this.layout.height,\n                left: this.layout.offsetLeft,\n                top: this.layout.offsetTop\n            },\n            isRoot: true,\n            emitter: this\n        };\n        this.faustUIRoot = new Group(props);\n        this.faustUIRoot.componentWillMount();\n        this.faustUIRoot.mount();\n        this.DOMroot.appendChild(this.faustUIRoot.container);\n        this.faustUIRoot.componentDidMount();\n    }\n    /**\n     * This method should be called by components to register itself to map.\n     *\n     * @param {string} path\n     * @param {AbstractItem<any>} item\n     * @memberof FaustUI\n     */\n    register(path: string, item: AbstractItem<any>) {\n        if (this.componentMap[path]) this.componentMap[path].push(item);\n        else this.componentMap[path] = [item];\n    }\n    /**\n     * Notify the component to change its value.\n     *\n     * @param {string} path\n     * @param {number} value\n     * @memberof FaustUI\n     */\n    paramChangeByDSP(path: string, value: number) {\n        if (this.componentMap[path]) this.componentMap[path].forEach(item => item.setState({ value }));\n    }\n    /**\n     * Can be overriden, called by components when its value is changed by user.\n     *\n     * @memberof FaustUI\n     */\n    paramChangeByUI = (path: string, value: number) => {\n        if (!this.hostWindow) return;\n        this.hostWindow.postMessage({ path, value, type: \"param\" }, \"*\");\n    };\n    /**\n     * Calculate UI layout in grid then calculate grid size.\n     *\n     * @memberof FaustUI\n     */\n    calc() {\n        const { items, layout } = Layout.calc(this.ui);\n        this._ui = items;\n        this._layout = layout;\n        this.calcGrid();\n    }\n    /**\n     * Calculate grid size by DOM root size and layout size in grids.\n     *\n     * @returns\n     * @memberof FaustUI\n     */\n    calcGrid() {\n        const { width, height } = this.DOMroot.getBoundingClientRect();\n        const grid = Math.max(40, Math.min(width / this._layout.width, height / this._layout.height));\n        this.grid = grid;\n        return grid;\n    }\n    /**\n     * Force recalculate grid size and resize UI\n     *\n     * @returns\n     * @memberof FaustUI\n     */\n    resize() {\n        if (!this.faustUIRoot) return;\n        this.calcGrid();\n        this.faustUIRoot.setState({ style: { grid: this.grid } });\n    }\n    get ui() {\n        return this._ui;\n    }\n    set ui(uiIn) {\n        this._ui = uiIn;\n        this.calc();\n        this.mount();\n    }\n    get layout() {\n        return this._layout;\n    }\n    get minWidth() {\n        return this._layout.width * 40 + 1;\n    }\n    get minHeight() {\n        return this._layout.height * 40 + 1;\n    }\n}\n","import { FaustUI } from \"./FaustUI\";\n\nexport const instantiate = () => {\n    const faustUI = new FaustUI({ root: document.getElementById(\"root\") as HTMLDivElement });\n    let host: Window;\n    window.addEventListener(\"message\", (e) => {\n        const { source } = e;\n        host = source as Window;\n    });\n\n    window.addEventListener(\"keydown\", (e) => {\n        if (host) host.postMessage({ type: \"keydown\", key: e.key }, \"*\");\n    });\n    window.addEventListener(\"keyup\", (e) => {\n        if (host) host.postMessage({ type: \"keyup\", key: e.key }, \"*\");\n    });\n    (window as any).faustUI = faustUI;\n};\n"],"names":["AbstractItem","constructor","item","Object","assign","min","isFinite","max","adjust","expand","dX","dY","offset","AbstractInputItem","init","step","HSlider","type","width","height","sizing","VSlider","Nentry","Button","Checkbox","Knob","Menu","Radio","AbstractOutputItem","Led","Numerical","HBargraph","VBargraph","AbstractGroup","group","isRoot","hasHSizingDesc","hasVSizingDesc","layout","padding","labelHeight","items","find","HGroup","forEach","Math","spaceBetween","length","hExpandItems","dX$","dY$","$left","$top","offsetLeft","offsetTop","left","top","VGroup","vExpandItems","TGroup","tabsCount","tabLayout","Layout","predictType","meta","style","startsWith","getItem","ctor","hslider","vslider","nentry","button","checkbox","knob","menu","radio","led","numerical","hbargraph","vbargraph","hgroup","vgroup","tgroup","layoutType","getItems","map","calc","ui","rootGroup","label","TypedEventEmitter","listeners","_listeners","getListeners","eventName","on","listener","indexOf","push","off","i","splice","emit","eventData","Promise","all","f","emitSerial","emitSync","removeAllListeners","listenerCount","AbstractComponent","defaultProps","props","$frame","frameReduce","$raf","window","requestAnimationFrame","raf","undefined","tasks","state","setState","newState","shouldUpdate","stateKey","stateValue","schedule","func","toRad","degrees","PI","normLog","x","log10","normExp","fillRoundedRect","ctx","y","radius","radii","fill","v","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","e","preventDefault","rect","currentTarget","getBoundingClientRect","prevX","touches","pageX","prevY","pageY","fromX","fromY","prevValue","value","handlePointerDown","originalEvent","handleTouchMove","changedTouches","movementX","movementY","handlePointerDrag","handleTouchEnd","handlePointerUp","document","removeEventListener","addEventListener","passive","focus","handleMouseMove","handleMouseUp","emitter","register","address","toValidNumber","floor","setValue","valueIn","changed","change","paramChangeByUI","key","styleKey","componentWillMount","container","createElement","className","join","tabIndex","id","tooltip","title","labelCanvas","labelCtx","getContext","mount","appendChild","paintLabel","align","color","labelcolor","canvas","clearRect","fillStyle","textBaseline","textAlign","font","fillText","componentDidMount","handleResize","grid","stepsCount","enums","maxSteps","round","distance","scale","getDistance","normalized","stepRange","full","active","unit","parseFloat","input","inputNumber","fontsize","textcolor","bgcolor","bordercolor","fontSize","backgroundColor","borderColor","sliderwidth","sliderbgcolor","sliderbgoncolor","slidercolor","canvasDiv","drawHeight","drawWidth","borderRadius","interactionRect","grd","createLinearGradient","addColorStop","newValue","getValueFromPos","inherited","fontname","fontface","flexDiv","toFixed","toString","spellcheck","setStyle","handleChange","handleMouseDown","handleTouchStart","paint","valueChange","maxChange","minChange","stepChange","range","steps","textoncolor","bgoncolor","borderoncolor","btn","fontFamily","fontStyle","span","innerText","labelChange","knobwidth","knobcolor","knoboncolor","needlecolor","start","end","valPos","dialHeight","dialRadius","dialCenterX","dialCenterY","valuePosX","cos","valuePosY","sin","lineWidth","strokeStyle","lineCap","arc","stroke","getValueFromDelta","prevDistance","select","getOptions","innerHTML","option","text","selected","children","selectedIndex","div","name","checked","append","querySelector","shape","ledbgcolor","coldcolor","warmcolor","hotcolor","overloadcolor","tempCanvas","tempCtx","coldStop","warmStop","hotStop","overloadStop","gradient","fillRect","d","getImageData","data","disabled","Infinity","barwidth","barbgcolor","paintValue","maxValue","maxTimer","clearTimeout","setTimeout","Group","endsWith","component","getComponent","ioItem","itemComponent","tabs","tab","lineHeight","groups","j","element","classList","contains","visibility","remove","add","parseMeta","metaIn","metaObject","m","enumsRegex","matched","match","itemsRegex","exec","updateUI","itemsChange","click","FaustUI","options","path","hostWindow","postMessage","root","uiIn","listenWindowResize","listenWindowMessage","DOMroot","resize","source","paramChangeByDSP","componentMap","faustUIRoot","_ui","_layout","calcGrid","minWidth","minHeight","instantiate","faustUI","getElementById","host"],"mappings":"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"}